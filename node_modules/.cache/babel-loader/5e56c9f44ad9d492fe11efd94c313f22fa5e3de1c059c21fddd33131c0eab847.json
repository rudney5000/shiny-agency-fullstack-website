{"ast":null,"code":"var _jsxFileName = \"D:\\\\Dedy R\\\\01 Documents\\\\shiny-agency\\\\src\\\\pages\\\\Results\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport { useContext } from 'react';\nimport { SurveyContext } from '../../utils/context';\nimport styled from 'styled-components';\nimport colors from '../../utils/style/colors';\nimport { useFetch } from '../../utils/hooks';\nimport { StyledLink, Loader } from '../../utils/style/Atoms';\nimport { ThemeContext } from '../../utils/context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ResultsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 60px 90px;\n  padding: 30px;\n  background-color: ${_ref => {\n  let {\n    theme\n  } = _ref;\n  return theme === 'light' ? colors.backgroundLight : colors.backgroundDark;\n}};\n`;\n_c = ResultsContainer;\nconst ResultsTitle = styled.h2`\n  color: ${_ref2 => {\n  let {\n    theme\n  } = _ref2;\n  return theme === 'light' ? '#000000' : '#ffffff';\n}};\n  font-weight: bold;\n  font-size: 28px;\n  max-width: 60%;\n  text-align: center;\n  & > span {\n    padding-left: 10px;\n  }\n`;\n_c2 = ResultsTitle;\nconst DescriptionWrapper = styled.div`\n  padding: 60px;\n`;\n_c3 = DescriptionWrapper;\nconst JobTitle = styled.span`\n  color: ${_ref3 => {\n  let {\n    theme\n  } = _ref3;\n  return theme === 'light' ? colors.primary : colors.backgroundLight;\n}};\n  text-transform: capitalize;\n`;\n_c4 = JobTitle;\nconst JobDescription = styled.div`\n  font-size: 18px;\n  & > p {\n    color: ${_ref4 => {\n  let {\n    theme\n  } = _ref4;\n  return theme === 'light' ? colors.secondary : '#ffffff';\n}};\n    margin-block-start: 5px;\n  }\n  & > span {\n    font-size: 20px;\n  }\n`;\n_c5 = JobDescription;\nconst LoaderWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n_c6 = LoaderWrapper;\nfunction formatFetchParams(answers) {\n  const answerNumbers = Object.keys(answers);\n  return answerNumbers.reduce((previousParams, answerNumber, index) => {\n    const isFirstParam = index === 0;\n    const separator = isFirstParam ? '' : '&';\n    return `${previousParams}${separator}a${answerNumber}=${answers[answerNumber]}`;\n  }, '');\n}\nfunction Results() {\n  _s();\n  const {\n    theme\n  } = useContext(ThemeContext);\n  const {\n    answers\n  } = useContext(SurveyContext);\n  const fetchParams = formatFetchParams(answers);\n  const {\n    data,\n    isLoading,\n    error\n  } = useFetch(`http://localhost:8000/results?${fetchParams}`);\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"Il y a un probl\\xE8me\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 12\n    }, this);\n  }\n  const resultsData = data === null || data === void 0 ? void 0 : data.resultsData;\n  return isLoading ? /*#__PURE__*/_jsxDEV(LoaderWrapper, {\n    children: /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(ResultsContainer, {\n    theme: theme,\n    children: [/*#__PURE__*/_jsxDEV(ResultsTitle, {\n      theme: theme,\n      children: [\"Les comp\\xE9tences dont vous avez besoin :\", resultsData && resultsData.map((result, index) => /*#__PURE__*/_jsxDEV(JobTitle, {\n        theme: theme,\n        children: [result.title, index === resultsData.length - 1 ? '' : ',']\n      }, `result-title-${index}-${result.title}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StyledLink, {\n      $isFullLink: true,\n      to: \"/freelances\",\n      children: \"D\\xE9couvrez nos profils\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DescriptionWrapper, {\n      children: resultsData && resultsData.map((result, index) => /*#__PURE__*/_jsxDEV(JobDescription, {\n        theme: theme,\n        children: [/*#__PURE__*/_jsxDEV(JobTitle, {\n          theme: theme,\n          children: result.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: result.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 15\n        }, this)]\n      }, `result-detail-${index}-${result.title}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n}\n_s(Results, \"W1jf1p8XUHQdB0LzAWfLBAl/beQ=\", false, function () {\n  return [useFetch];\n});\n_c7 = Results;\nexport default Results;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"ResultsContainer\");\n$RefreshReg$(_c2, \"ResultsTitle\");\n$RefreshReg$(_c3, \"DescriptionWrapper\");\n$RefreshReg$(_c4, \"JobTitle\");\n$RefreshReg$(_c5, \"JobDescription\");\n$RefreshReg$(_c6, \"LoaderWrapper\");\n$RefreshReg$(_c7, \"Results\");","map":{"version":3,"names":["useContext","SurveyContext","styled","colors","useFetch","StyledLink","Loader","ThemeContext","ResultsContainer","div","theme","backgroundLight","backgroundDark","ResultsTitle","h2","DescriptionWrapper","JobTitle","span","primary","JobDescription","secondary","LoaderWrapper","formatFetchParams","answers","answerNumbers","Object","keys","reduce","previousParams","answerNumber","index","isFirstParam","separator","Results","fetchParams","data","isLoading","error","resultsData","map","result","title","length","description"],"sources":["D:/Dedy R/01 Documents/shiny-agency/src/pages/Results/index.jsx"],"sourcesContent":["import { useContext } from 'react'\r\nimport { SurveyContext } from '../../utils/context'\r\nimport styled from 'styled-components'\r\nimport colors from '../../utils/style/colors'\r\nimport { useFetch } from '../../utils/hooks'\r\nimport { StyledLink, Loader } from '../../utils/style/Atoms'\r\nimport { ThemeContext } from '../../utils/context'\r\n\r\nconst ResultsContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin: 60px 90px;\r\n  padding: 30px;\r\n  background-color: ${({ theme }) =>\r\n    theme === 'light' ? colors.backgroundLight : colors.backgroundDark};\r\n`\r\n\r\nconst ResultsTitle = styled.h2`\r\n  color: ${({ theme }) => (theme === 'light' ? '#000000' : '#ffffff')};\r\n  font-weight: bold;\r\n  font-size: 28px;\r\n  max-width: 60%;\r\n  text-align: center;\r\n  & > span {\r\n    padding-left: 10px;\r\n  }\r\n`\r\n\r\nconst DescriptionWrapper = styled.div`\r\n  padding: 60px;\r\n`\r\n\r\nconst JobTitle = styled.span`\r\n  color: ${({ theme }) =>\r\n    theme === 'light' ? colors.primary : colors.backgroundLight};\r\n  text-transform: capitalize;\r\n`\r\n\r\nconst JobDescription = styled.div`\r\n  font-size: 18px;\r\n  & > p {\r\n    color: ${({ theme }) => (theme === 'light' ? colors.secondary : '#ffffff')};\r\n    margin-block-start: 5px;\r\n  }\r\n  & > span {\r\n    font-size: 20px;\r\n  }\r\n`\r\n\r\nconst LoaderWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n`\r\n\r\nfunction formatFetchParams(answers) {\r\n  const answerNumbers = Object.keys(answers)\r\n\r\n  return answerNumbers.reduce((previousParams, answerNumber, index) => {\r\n    const isFirstParam = index === 0\r\n    const separator = isFirstParam ? '' : '&'\r\n    return `${previousParams}${separator}a${answerNumber}=${answers[answerNumber]}`\r\n  }, '')\r\n}\r\n\r\nfunction Results() {\r\n  const { theme } = useContext(ThemeContext)\r\n  const { answers } = useContext(SurveyContext)\r\n  const fetchParams = formatFetchParams(answers)\r\n\r\n  const { data, isLoading, error } = useFetch(\r\n    `http://localhost:8000/results?${fetchParams}`\r\n  )\r\n\r\n  if (error) {\r\n    return <span>Il y a un problème</span>\r\n  }\r\n\r\n  const resultsData = data?.resultsData\r\n\r\n  return isLoading ? (\r\n    <LoaderWrapper>\r\n      <Loader />\r\n    </LoaderWrapper>\r\n  ) : (\r\n    <ResultsContainer theme={theme}>\r\n      <ResultsTitle theme={theme}>\r\n        Les compétences dont vous avez besoin :\r\n        {resultsData &&\r\n          resultsData.map((result, index) => (\r\n            <JobTitle\r\n              key={`result-title-${index}-${result.title}`}\r\n              theme={theme}\r\n            >\r\n              {result.title}\r\n              {index === resultsData.length - 1 ? '' : ','}\r\n            </JobTitle>\r\n          ))}\r\n      </ResultsTitle>\r\n      <StyledLink $isFullLink to=\"/freelances\">\r\n        Découvrez nos profils\r\n      </StyledLink>\r\n      <DescriptionWrapper>\r\n        {resultsData &&\r\n          resultsData.map((result, index) => (\r\n            <JobDescription\r\n              theme={theme}\r\n              key={`result-detail-${index}-${result.title}`}\r\n            >\r\n              <JobTitle theme={theme}>{result.title}</JobTitle>\r\n              <p>{result.description}</p>\r\n            </JobDescription>\r\n          ))}\r\n      </DescriptionWrapper>\r\n    </ResultsContainer>\r\n  )\r\n}\r\n\r\nexport default Results\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}