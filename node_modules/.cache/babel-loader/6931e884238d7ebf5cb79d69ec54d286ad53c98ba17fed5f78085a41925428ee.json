{"ast":null,"code":"var _jsxFileName = \"D:\\\\Dedy R\\\\01 Documents\\\\shiny-agency\\\\src\\\\pages\\\\Results\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport { useContext } from 'react';\nimport styled from 'styled-components';\nimport { SurveyContext } from '../../utils/context';\nimport EmptyList from '../../components/EmptyList';\nimport colors from '../../utils/style/colors';\nimport { useFetch, useTheme } from '../../utils/hooks';\nimport { StyledLink, Loader } from '../../utils/style/Atoms';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ResultsContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin: 60px 90px;\n  padding: 30px;\n  background-color: ${_ref => {\n  let {\n    theme\n  } = _ref;\n  return theme === 'light' ? colors.backgroundLight : colors.backgroundDark;\n}};\n`;\n_c = ResultsContainer;\nconst ResultsTitle = styled.h2`\n  color: ${_ref2 => {\n  let {\n    theme\n  } = _ref2;\n  return theme === 'light' ? '#000000' : '#ffffff';\n}};\n  font-weight: bold;\n  font-size: 28px;\n  max-width: 60%;\n  text-align: center;\n  & > span {\n    padding-left: 10px;\n  }\n`;\n_c2 = ResultsTitle;\nconst DescriptionWrapper = styled.div`\n  padding: 60px;\n`;\n_c3 = DescriptionWrapper;\nconst JobTitle = styled.span`\n  color: ${_ref3 => {\n  let {\n    theme\n  } = _ref3;\n  return theme === 'light' ? colors.primary : colors.backgroundLight;\n}};\n  text-transform: capitalize;\n`;\n_c4 = JobTitle;\nconst JobDescription = styled.div`\n  font-size: 18px;\n  & > p {\n    color: ${_ref4 => {\n  let {\n    theme\n  } = _ref4;\n  return theme === 'light' ? colors.secondary : '#ffffff';\n}};\n    margin-block-start: 5px;\n  }\n  & > span {\n    font-size: 20px;\n  }\n`;\n_c5 = JobDescription;\nconst LoaderWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n_c6 = LoaderWrapper;\nexport function formatQueryParams(answers) {\n  const answerNumbers = Object.keys(answers);\n  return answerNumbers.reduce((previousParams, answerNumber, index) => {\n    const isFirstParam = index === 0;\n    const separator = isFirstParam ? '' : '&';\n    return `${previousParams}${separator}a${answerNumber}=${answers[answerNumber]}`;\n  }, '');\n}\nexport function formatJobList(title, listLength, index) {\n  if (index === listLength - 1) {\n    return title;\n  } else {\n    return `${title},`;\n  }\n}\nfunction Results() {\n  _s();\n  const {\n    theme\n  } = useTheme();\n  const {\n    answers\n  } = useContext(SurveyContext);\n  const queryParams = formatQueryParams(answers);\n  const {\n    data,\n    isLoading,\n    error\n  } = useFetch(`http://localhost:8000/results?${queryParams}`);\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"Il y a un probl\\xE8me\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 12\n    }, this);\n  }\n  const resultsData = data === null || data === void 0 ? void 0 : data.resultsData;\n  if ((resultsData === null || resultsData === void 0 ? void 0 : resultsData.length) < 1) {\n    return /*#__PURE__*/_jsxDEV(EmptyList, {\n      theme: theme\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 12\n    }, this);\n  }\n  return isLoading ? /*#__PURE__*/_jsxDEV(LoaderWrapper, {\n    children: /*#__PURE__*/_jsxDEV(Loader, {\n      \"data-testid\": \"loader\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(ResultsContainer, {\n    theme: theme,\n    children: [/*#__PURE__*/_jsxDEV(ResultsTitle, {\n      theme: theme,\n      children: [\"Les comp\\xE9tences dont vous avez besoin :\", resultsData && resultsData.map((result, index) => /*#__PURE__*/_jsxDEV(JobTitle, {\n        theme: theme,\n        children: formatJobList(result.title, resultsData.length, index)\n      }, `result-title-${index}-${result.title}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(StyledLink, {\n      $isFullLink: true,\n      to: \"/freelances\",\n      children: \"D\\xE9couvrez nos profils\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DescriptionWrapper, {\n      children: resultsData && resultsData.map((result, index) => /*#__PURE__*/_jsxDEV(JobDescription, {\n        theme: theme,\n        children: [/*#__PURE__*/_jsxDEV(JobTitle, {\n          theme: theme,\n          \"data-testid\": \"job-title\",\n          children: result.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-testid\": \"job-description\",\n          children: result.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 15\n        }, this)]\n      }, `result-detail-${index}-${result.title}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n}\n_s(Results, \"xKrAnHTbGfQsMLoFWvjT3LZ6C28=\", false, function () {\n  return [useTheme, useFetch];\n});\n_c7 = Results;\nexport default Results;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"ResultsContainer\");\n$RefreshReg$(_c2, \"ResultsTitle\");\n$RefreshReg$(_c3, \"DescriptionWrapper\");\n$RefreshReg$(_c4, \"JobTitle\");\n$RefreshReg$(_c5, \"JobDescription\");\n$RefreshReg$(_c6, \"LoaderWrapper\");\n$RefreshReg$(_c7, \"Results\");","map":{"version":3,"names":["useContext","styled","SurveyContext","EmptyList","colors","useFetch","useTheme","StyledLink","Loader","ResultsContainer","div","theme","backgroundLight","backgroundDark","ResultsTitle","h2","DescriptionWrapper","JobTitle","span","primary","JobDescription","secondary","LoaderWrapper","formatQueryParams","answers","answerNumbers","Object","keys","reduce","previousParams","answerNumber","index","isFirstParam","separator","formatJobList","title","listLength","Results","queryParams","data","isLoading","error","resultsData","length","map","result","description"],"sources":["D:/Dedy R/01 Documents/shiny-agency/src/pages/Results/index.jsx"],"sourcesContent":["import { useContext } from 'react'\r\nimport styled from 'styled-components'\r\nimport { SurveyContext } from '../../utils/context'\r\nimport EmptyList from '../../components/EmptyList'\r\nimport colors from '../../utils/style/colors'\r\nimport { useFetch, useTheme } from '../../utils/hooks'\r\nimport { StyledLink, Loader } from '../../utils/style/Atoms'\r\n\r\nconst ResultsContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin: 60px 90px;\r\n  padding: 30px;\r\n  background-color: ${({ theme }) =>\r\n    theme === 'light' ? colors.backgroundLight : colors.backgroundDark};\r\n`\r\n\r\nconst ResultsTitle = styled.h2`\r\n  color: ${({ theme }) => (theme === 'light' ? '#000000' : '#ffffff')};\r\n  font-weight: bold;\r\n  font-size: 28px;\r\n  max-width: 60%;\r\n  text-align: center;\r\n  & > span {\r\n    padding-left: 10px;\r\n  }\r\n`\r\n\r\nconst DescriptionWrapper = styled.div`\r\n  padding: 60px;\r\n`\r\n\r\nconst JobTitle = styled.span`\r\n  color: ${({ theme }) =>\r\n    theme === 'light' ? colors.primary : colors.backgroundLight};\r\n  text-transform: capitalize;\r\n`\r\n\r\nconst JobDescription = styled.div`\r\n  font-size: 18px;\r\n  & > p {\r\n    color: ${({ theme }) => (theme === 'light' ? colors.secondary : '#ffffff')};\r\n    margin-block-start: 5px;\r\n  }\r\n  & > span {\r\n    font-size: 20px;\r\n  }\r\n`\r\n\r\nconst LoaderWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n`\r\n\r\nexport function formatQueryParams(answers) {\r\n  const answerNumbers = Object.keys(answers)\r\n\r\n  return answerNumbers.reduce((previousParams, answerNumber, index) => {\r\n    const isFirstParam = index === 0\r\n    const separator = isFirstParam ? '' : '&'\r\n    return `${previousParams}${separator}a${answerNumber}=${answers[answerNumber]}`\r\n  }, '')\r\n}\r\n\r\nexport function formatJobList(title, listLength, index) {\r\n  if (index === listLength - 1) {\r\n    return title\r\n  } else {\r\n    return `${title},`\r\n  }\r\n}\r\n\r\nfunction Results() {\r\n  const { theme } = useTheme()\r\n  const { answers } = useContext(SurveyContext)\r\n  const queryParams = formatQueryParams(answers)\r\n\r\n  const { data, isLoading, error } = useFetch(\r\n    `http://localhost:8000/results?${queryParams}`\r\n  )\r\n\r\n  if (error) {\r\n    return <span>Il y a un problème</span>\r\n  }\r\n\r\n  const resultsData = data?.resultsData\r\n\r\n  if (resultsData?.length < 1) {\r\n    return <EmptyList theme={theme} />\r\n  }\r\n\r\n  return isLoading ? (\r\n    <LoaderWrapper>\r\n      <Loader data-testid=\"loader\" />\r\n    </LoaderWrapper>\r\n  ) : (\r\n    <ResultsContainer theme={theme}>\r\n      <ResultsTitle theme={theme}>\r\n        Les compétences dont vous avez besoin :\r\n        {resultsData &&\r\n          resultsData.map((result, index) => (\r\n            <JobTitle\r\n              key={`result-title-${index}-${result.title}`}\r\n              theme={theme}\r\n            >\r\n              {formatJobList(result.title, resultsData.length, index)}\r\n            </JobTitle>\r\n          ))}\r\n      </ResultsTitle>\r\n      <StyledLink $isFullLink to=\"/freelances\">\r\n        Découvrez nos profils\r\n      </StyledLink>\r\n      <DescriptionWrapper>\r\n        {resultsData &&\r\n          resultsData.map((result, index) => (\r\n            <JobDescription\r\n              theme={theme}\r\n              key={`result-detail-${index}-${result.title}`}\r\n            >\r\n              <JobTitle theme={theme} data-testid=\"job-title\">\r\n                {result.title}\r\n              </JobTitle>\r\n              <p data-testid=\"job-description\">{result.description}</p>\r\n            </JobDescription>\r\n          ))}\r\n      </DescriptionWrapper>\r\n    </ResultsContainer>\r\n  )\r\n}\r\n\r\nexport default Results\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}